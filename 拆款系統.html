<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>房價拆款計算機</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #f3f4f6; }
        .card { background: white; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
    </style>
</head>
<body class="p-4 flex justify-center">
    <div class="w-full max-w-md">
        <h1 class="text-2xl font-bold text-center mb-6 text-blue-800">房價拆款計算機</h1>
        
        <div class="card p-6 mb-6">
            <label class="block text-gray-700 text-sm font-bold mb-2">請輸入成交總價 (萬元)</label>
            <div class="flex gap-2">
                <input type="number" id="totalPrice" placeholder="例如: 1200" 
                       class="w-full p-4 border rounded-lg text-xl focus:outline-none focus:ring-2 focus:ring-blue-500">
                <button onclick="calculate()" 
                        class="bg-blue-600 text-white px-6 py-2 rounded-lg font-bold active:scale-95 transition">計算</button>
            </div>
        </div>

        <div id="result" class="hidden space-y-3">
            <div class="card p-4 flex justify-between items-center border-l-4 border-blue-500">
                <span class="text-gray-600">1. 訂金</span>
                <span class="text-lg font-bold text-gray-800" id="res_deposit"></span>
            </div>
            <div class="card p-4 flex justify-between items-center border-l-4 border-blue-500">
                <span class="text-gray-600">2. 簽約金</span>
                <span class="text-lg font-bold text-gray-800" id="res_contract"></span>
            </div>
            <div class="card p-4 flex justify-between items-center border-l-4 border-green-500">
                <span class="text-gray-600">3. 備證用印款 (捨去)</span>
                <span class="text-lg font-bold text-green-700" id="res_stamping"></span>
            </div>
            <div class="card p-4 flex justify-between items-center border-l-4 border-green-500">
                <span class="text-gray-600">4. 交屋保留款 (進位)</span>
                <span class="text-lg font-bold text-green-700" id="res_handover"></span>
            </div>
            <div class="card p-4 flex justify-between items-center border-l-4 border-red-500 bg-red-50">
                <span class="text-gray-600">5. 金融貸款 (8成)</span>
                <span class="text-lg font-bold text-red-600" id="res_loan"></span>
            </div>
            
            <button onclick="reset()" class="w-full text-gray-500 text-sm py-4">清除重算</button>
        </div>
    </div>

    <script>
        function calculate() {
            const priceWan = document.getElementById('totalPrice').value;
            if (!priceWan || priceWan <= 0) {
                alert("請輸入正確總價");
                return;
            }

            const P = priceWan * 10000; // 轉為元
            const deposit = 100000; // 10萬
            const loan = P * 0.8;
            const contract = (P * 0.1) - deposit;
            const remaining = P - loan - deposit - contract;
            
            const stamping = Math.floor(remaining / 2);
            const handover = Math.ceil(remaining / 2);

            document.getElementById('res_deposit').innerText = deposit.toLocaleString() + " 元";
            document.getElementById('res_contract').innerText = contract.toLocaleString() + " 元";
            document.getElementById('res_stamping').innerText = stamping.toLocaleString() + " 元";
            document.getElementById('res_handover').innerText = handover.toLocaleString() + " 元";
            document.getElementById('res_loan').innerText = loan.toLocaleString() + " 元";
            
            document.getElementById('result').classList.remove('hidden');
        }

        function reset() {
            document.getElementById('totalPrice').value = '';
            document.getElementById('result').classList.add('hidden');
        }
    </script>
</body>
</html>